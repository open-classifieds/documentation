<h2 id="importance-of-configuration-file">Importance of Configuration File</h2>

<p>The configuration file serves important functions with single sourcing. For each site output, you create a unique configuration file for that output. </p>

<p>The configuration file contains all the settings and other details unique to that site output, such as variables, titles, output directories, build folders, and more.</p>

<p>This theme is coded to look for specific values set by the configuration file. If something isn&#39;t working correctly, check to make sure that you have the configuration values that are defined here.</p>

<h2 id="configuration-file-options">Configuration file options</h2>

<p>Some of the options you can set in the configuration file determine theme settings. </p>

<p>Note that you can define arbitrary key-value pairs in the configuration file, and then you can access them through <code>site.yourkey</code>, where <code>yourkey</code> is the name of the key. However, the values in these tables are used to control different aspects of the theme and are not arbitrary key-value pairs.</p>

<h2 id="configuration-settings-for-web-outputs">Configuration settings for web outputs</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>project</strong></td>
<td>Required</td>
<td>A unique name for the project. The _includes/custom/conditions.html file will use this project name to determine what sidebar and top nav data files to use. Make this value unique. Note that the project name also determines what conditions are set in the _includes/conditions.html file. Therefore it&#39;s critical that the project name you specify in the configuration file matches the project names in the conditions.html file. Otherwise, the conditions.html file won&#39;t be able to set the right variables needed for single sourcing.</td>
</tr>
<tr>
<td><strong>audience</strong></td>
<td>Required</td>
<td>The audience for the output. Each entry in _data/sidebar_doc.yml and  _data/topnav_doc.yml needs to have an audience attribute that matches the value here in order for the sidebar or topnav item to be included.</td>
</tr>
<tr>
<td><strong>platform</strong></td>
<td>Required</td>
<td>The platform for the output. See additional information in audience.</td>
</tr>
<tr>
<td><strong>product</strong></td>
<td>Required</td>
<td>The product for the output. See additional information in audience.</td>
</tr>
<tr>
<td><strong>version</strong></td>
<td>Required</td>
<td>The version for the output. See additional information in audience.</td>
</tr>
<tr>
<td><strong>destination</strong></td>
<td>Required</td>
<td>The folder where the site is built. If you put this into your same folder as your other files, Jekyll may start building and rebuilding in an infinite loop because it detects more files in the project folder. Make sure you specify a folder outside your project folder, by using <code>../</code> or by specifying the absolute path, such as /Applications/XAMPP/xamppfiles/htdocs/myfolder.</td>
</tr>
<tr>
<td><strong>project_file_name</strong></td>
<td>Required</td>
<td>The shortname for your project that you preface each file name with (for example, <code>doc</code>). This label is used to specify the prefix for the tag archives files (which are named with titles such as <code>doc_tag-formatting.html</code>). The raw code in the theme is <code>&lt;a href=&quot;{{site.project_file_name}}_tag-{{tag}}.html&quot;&gt;</code> The <code>{{site.project_file_name}}</code> field renders as <code>doc</code> in the sample theme. The <code>{{tag}}</code> is populated by a &quot;for&quot; loop through the tags property specified in page frontmatter.</td>
</tr>
<tr>
<td><strong>sidebar_tagline</strong></td>
<td>Optional</td>
<td>Appears above the sidebar. Usually you put some term related to the site specific build, such as the audience. In the sample theme files, the taglines are &quot;writers&quot; and &quot;designers.&quot;</td>
</tr>
<tr>
<td><strong>sidebar_version</strong></td>
<td>Optional</td>
<td>Appears below the sidebar_tagline in a smaller font, usually specifying the version of the documentation. In the sample theme files, the version is &quot;3.0.&quot;</td>
</tr>
<tr>
<td><strong>topnav_title</strong></td>
<td>Required</td>
<td>Appears next to the home button in the top nav bar. In the sample theme files, the topnav_title is &quot;Jekyll Documentation Theme.&quot;</td>
</tr>
<tr>
<td><strong>homepage_title</strong></td>
<td>Required</td>
<td>You set the title for your homepage via this setting. This is because multiple projects are all using the same index.md as their homepage. Because index.md has <code>homepage: true</code> in the frontmatter, the &quot;page&quot; layout will use the <code>homepage_title</code> property from the configuration file instead of the traditional title in the frontmatter. In the sample theme files, the homepage title is &quot;Jekyll Documentation Theme -- {audience}.&quot;</td>
</tr>
<tr>
<td><strong>site_title</strong></td>
<td>Appears in the webpage title area (on the browser tab, not in the page viewing area). In the sample theme files, the site title is the &quot;page name</td>
<td>homepage title.&quot;</td>
</tr>
<tr>
<td><strong>port</strong></td>
<td>Required</td>
<td>The port used in the preview mode. This is only for the live preview and doesn&#39;t affect the published output. If you serve multiple outputs simultaneously, the port must be unique.</td>
</tr>
<tr>
<td><strong>feedback_email</strong></td>
<td>Gets configured as the email address in the Send Feedback button in the top navigation bar.</td>
<td></td>
</tr>
<tr>
<td><strong>disqus_shortname</strong></td>
<td>Optional</td>
<td>The disqus site shortname, which is used for comments. If you don&#39;t want comment forms via disqus, leave this blank or omit it altogether and Disqus won&#39;t appear.</td>
</tr>
<tr>
<td><strong>markdown</strong></td>
<td>Required</td>
<td>The processor to use for Markdown. This is a Jekyll-specific setting. Use <code>redcarpet</code>. Another option is <code>kramdown</code>. However, my examples will follow redcarpet.</td>
</tr>
<tr>
<td><strong>redcarpet</strong></td>
<td>Required</td>
<td>Extensions used with redcarpet. You can read more about them by searching for redcarpet extensions online.</td>
</tr>
<tr>
<td><strong>highlighter</strong></td>
<td>Optional</td>
<td>The syntax highlighter used. Use <code>pygments</code> because it&#39;s required you&#39;re publishing on Github Pages. You will need to <a href="http://pygments.org/download/">install Pygments</a> on your machine or else you will see an error. Pygments is based on Python. If you run into build errors and aren&#39;t publishing on Github Pages, <code>rouge</code> is also an option.</td>
</tr>
<tr>
<td><strong>exclude</strong></td>
<td>Optional</td>
<td>A list of files and directories that you want excluded from the build. By default, all the content in your project is included in the output.</td>
</tr>
<tr>
<td><strong>defaults</strong></td>
<td>Optional</td>
<td>Here you can set default values for frontmatter based on the content type (page, post, or collection).</td>
</tr>
<tr>
<td><strong>collections</strong></td>
<td>Optional</td>
<td>Any specific collections (custom content types that extend beyond pages or posts) that you want to define. This theme defines a collection called tooltips. You access this collection by using site.tooltips instead of site.pages or site.posts. Put the tooltip content types inside a folder in your project called _tooltips.</td>
</tr>
<tr>
<td><strong>print</strong></td>
<td>Optional</td>
<td>Boolean. Whether this build is a print build or not. This setting allows you to run conditions in your content such as  {% if site.print == true %} do this... {% endif %} .</td>
</tr>
<tr>
<td><strong>suffix</strong></td>
<td>Optional</td>
<td>If you publish on Salesforce&#39;s site.com, you have to add index.html to the permalink or else the page won&#39;t render. If you add <code>suffix: index.html</code> in your config file, this suffix will be appended in the homepage URL. If you&#39;re not publishing to Salesforce, don&#39;t add this property to your configuration file.</td>
</tr>
</tbody></table>

<h2 id="where-to-store-configuration-files">Where to store configuration files</h2>

<p>In this theme, the configuration files are listed in the configs directory. There are some build scripts in the root directory that simply reference the configuration files.</p>

<h2 id="the-conditional-attributes">The conditional attributes</h2>

<p>Each configuration file must specify values for the conditional attributes:</p>

<ul>
<li>project</li>
<li>product</li>
<li>platform</li>
<li>audience</li>
<li>version</li>
</ul>

<p>The sidebar.html and topnav.html files apply conditional logic based on the values for these conditional attributes. </p>

<p>For example, you will see this kind of logic in the sidebar and topnav files: </p>

<pre><code>
 {% if item.audience contains audience and item.product contains product and item.platform contains platform and item.version contains version and item.web != false %}

</code></pre>

<p>If all of these conditions are met, then the item will qualify to be included in the sidebar or top navigation file. That is why each item in the sidebar_doc.yml or topnav_doc.yml file includes similar properties to match: </p>

<pre><code>- title: Pages
  url: /doc_pages.html
  audience: writers, designers
  platform: all
  product: all
  version: all
</code></pre>

<p>The file in _includes/custom/conditions.html contains a project setting and also assigns general names for each of these specific values. This way the same theme files can be used interchangeably depending on the assignments, whose values are specified in the configuration file.</p>

<p>It&#39;s a little complicated to describe, but it works. Once you configure your project correctly, you don&#39;t even think about how the theme is processing all of this on the backend.</p>

<h2 id="configuration-settings-for-pdf-output">Configuration settings for PDF output</h2>

<p>The PDF configuration files build on all the settings in the web configuration files, but they add a few more options. </p>

<p>When you build the PDF output (such as for the writers output), the command will look like this:</p>

<pre><code>jekyll serve --detach --config configs/config_writers.yml,configs/config_writers_pdf.yml
</code></pre>

<p>First Jekyll will read the config_writers.yml file, and then Jekyll will read the config_writers_pdf.yml file.</p>

<p>More detail about generating PDFs is provided in , but the configuration settings used for the PDFs are described here.</p>

<p>The process for creating PDFs relies on two steps:</p>

<ol>
<li>First you build a printer-friendly web version of the content. </li>
<li>Then you run PrinceXML to get all the printer-friendly web pages and package them into a PDF.</li>
</ol>

<p>Thus, you actually build a web version for the PDF first before generating the PDF. (You might be able to remove this first step by doing more coding, but I found it easier just to strip out components I didn&#39;t want included and make other adjustments.)</p>

<table><thead>
<tr>
<th>Field</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>destination</td>
<td>Where the PDF web version should be served so that Prince XML can find it. By default, this is in ../doc_designers-pdf, so just one level above where your project is.</td>
<td></td>
</tr>
<tr>
<td>url</td>
<td>The URL where the files can be viewed. This is <code>http://127.0.0.1:4002</code> in the sample theme files for the designers output. Prince XML requires a URL to access the file. (My attempts to use local file paths didn&#39;t work.)</td>
<td></td>
</tr>
<tr>
<td>baseurl</td>
<td>The subdirectory after the url where the content is stored. In the sample theme files for the designers output, this is <code>/designers</code>.</td>
<td></td>
</tr>
<tr>
<td>port</td>
<td>The port required by the preview server.</td>
<td></td>
</tr>
<tr>
<td>print</td>
<td>A boolean so that you can construct conditional statements in your content to check whether print is true or not. This setting can help you filter out content that doesn&#39;t fit well into a PDF (such as dynamic web elements).</td>
<td></td>
</tr>
<tr>
<td>print_title</td>
<td>The title for the PDF. In the sample theme files for designers output, the print title is &quot;Jekyll Documentation Theme for Designers&quot;</td>
<td></td>
</tr>
<tr>
<td>print_subtitle</td>
<td>The subtitle for the PDF. In the sample theme files, the subtitle is &quot;version 3.0.&quot;</td>
<td></td>
</tr>
<tr>
<td>defaults</td>
<td>See the sample settings in the config_designers_pdf.yml file. The only difference between this file and config_designers.yml is that the layout used for pages is <code>page_print</code> instead of <code>page</code>. The <code>page_print</code> layout also used <code>head_print</code> instead of <code>head</code>. This layout strips out components such as the sidebar and top navigation. It also leverages printstyles.css and includes some JavaScript for Prince XML.</td>
<td></td>
</tr>
</tbody></table>
